# 囚徒困境的博弈论分析

## 摘要

**囚徒困境（PD）** 是非合作博弈论中的一个典范模型，它例示了个体理性与集体结果之间的冲突。本文对PD进行纯形式的分析，重点研究其均衡特性、重复情境下的策略逻辑以及关键的数学变体。

## 1. 形式化模型与定义

### 1.1 标准策略式表述

考虑一个对称的双人博弈，玩家 $i \in \{1, 2\}$。每个玩家的纯策略集是 $S_i = \{C, D\}$，其中 $C$ 代表**合作**，$D$ 代表**背叛**。

收益矩阵如下：

$$
\begin{array}{c|cc}
 & C & D \\
\hline
C & (R, R) & (S, T) \\
D & (T, S) & (P, P) \\
\end{array}
$$

参数满足囚徒困境的定义性不等式：
$$
T > R > P > S \quad \text{且} \quad 2R > T + S
$$

标准的数值示例是：$T=5$，$R=3$，$P=1$，$S=0$。

### 1.2 混合策略表示

令 $p_i \in [0, 1]$ 表示玩家 $i$ 选择 $C$ 的概率。玩家 $i$ 的一个混合策略是 $\sigma_i = (p_i, 1-p_i)$。玩家 $i$ 对玩家 $j$ 的期望收益为：

$$
u_i(\sigma_i, \sigma_j) = p_i p_j R + p_i (1-p_j) S + (1-p_i) p_j T + (1-p_i)(1-p_j) P
$$

## 2. 静态博弈分析

### 2.1 占优与纳什均衡

**命题 1（严格占优）：** 策略 $D$ 是每个玩家的严格占优策略。
*证明：* 对于对手的任何策略 $s_j \in \{C, D\}$：
- 如果 $s_j = C$：$u_i(D, C) = T > R = u_i(C, C)$。
- 如果 $s_j = D$：$u_i(D, D) = P > S = u_i(C, D)$。
因此，对于所有 $s_j$，有 $u_i(D, s_j) > u_i(C, s_j)$。

**推论 1.1：** 策略组合 $(D, D)$ 是**唯一的纯策略纳什均衡（PSNE）**。

### 2.2 帕累托无效性

虽然 $(D, D)$ 是一个纳什均衡，但它是**帕累托无效的**。策略组合 $(C, C)$ 产生了一个帕累托更优的结果，因为对两个玩家都有 $R > P$，且没有玩家的收益更低。

**均衡总结：**

| 策略组合 | 收益 $(u_1, u_2)$ | 是纳什均衡吗？ | 是帕累托有效的吗？ |
|:--------:|:-----------------:|:--------------:|:------------------:|
| $(C, C)$ | $(R, R)$          | 否             | **是**             |
| $(C, D)$ | $(S, T)$          | 否             | 否                 |
| $(D, C)$ | $(T, S)$          | 否             | 否                 |
| $(D, D)$ | $(P, P)$          | **是（唯一）**  | 否                 |

## 3. 重复博弈分析

### 3.1 有限次重复囚徒困境

令阶段博弈 $G$ 重复进行有限且已知的 $T$ 期。

**命题 2（逆向归纳/连锁反应）：** 在具有完美信息的有限次重复PD中，唯一的子博弈完美均衡（SPE）是双方在每一期都选择 $D$。
*证明（逆向归纳法）：*
- 在最后一期 $T$，博弈等同于阶段博弈。唯一的NE是 $(D, D)$。
- 在第 $T-1$ 期，给定在第 $T$ 期的预期行动，后续收益是固定的。阶段博弈再次进行，导致 $(D, D)$。
- 这个逻辑可以递归地应用到第一期。$\square$

### 3.2 无限次重复囚徒困境

令阶段博弈无限次重复进行，具有一个共同的贴现因子 $\delta \in (0, 1)$。一个玩家的总贴现收益为：
$$
\Pi_i = \sum_{t=0}^{\infty} \delta^t \pi_i^t
$$
其中 $\pi_i^t$ 是玩家在第 $t$ 期的收益。

#### 3.2.1 冷酷触发策略与无名氏定理

考虑**冷酷触发**策略 $\sigma^{GT}$：
1. 从选择 $C$ 开始。
2. 如果博弈的历史总是 $(C, C)$，则继续选择 $C$。
3. 如果任何玩家曾经选择过 $D$，则从此永远选择 $D$。

**命题 3（合作的可维持性）：** 在无限次重复PD中，当且仅当贴现因子 $\delta$ 足够高时，策略组合 $(\sigma^{GT}, \sigma^{GT})$ 是一个 SPE。
*证明：* 我们比较永久合作的现值与背叛一次获得收益后遭受永久惩罚的现值。
- 永久合作的现值：$V_{coop} = R + \delta R + \delta^2 R + \cdots = \frac{R}{1-\delta}$。
- 在第一期背叛并引发永久相互背叛的现值：
$V_{defect} = T + \delta P + \delta^2 P + \cdots = T + \frac{\delta P}{1-\delta}$。

当 $V_{coop} \geq V_{defect}$ 时，合作可以维持：
$$
\frac{R}{1-\delta} \geq T + \frac{\delta P}{1-\delta}
$$
解出 $\delta$ 得到临界阈值：
$$
\delta \geq \delta^* = \frac{T - R}{T - P}
$$
对于标准收益 $(T=5, R=3, P=1)$，$\delta^* = \frac{5-3}{5-1} = 0.5$。如果 $\delta \geq 0.5$，则冷酷触发策略组合是一个 SPE。$\square$

这是**无名氏定理**的一个特例，该定理指出，对于足够高的 $\delta$，任何可行的且满足个体理性的收益向量都可以在无限次重复博弈中作为某个 SPE 的收益得以维持。

## 4. 数学变体与扩展

### 4.1 N人囚徒困境（线性公共物品博弈）

设有 $n \geq 2$ 个玩家。每个玩家选择一个贡献水平 $x_i \in \{0, c\}$，其中 $0$ 代表背叛（不贡献），$c>0$ 代表合作（付出成本的贡献）。总贡献为 $X = \sum_{i=1}^n x_i$。

一种常见的收益结构是：
$$
u_i(x_i, X) = a \cdot X - b \cdot x_i
$$
其中 $b > a > 0$ 且 $a \cdot n > b$。这里，$a$ 是公共物品的边际回报，$b$ 是贡献的私人成本。
- 如果所有人都合作 ($x_i = c$)：$u_i^{allC} = a(nc) - bc$。
- 如果所有人都背叛 ($x_i = 0$)：$u_i^{allD} = 0$。
- PD 结构成立的条件：$a(nc) - bc > 0$（全合作 > 全背叛）且 $b > a$（在单次博弈中，背叛是占优策略）。

### 4.2 连续策略空间

允许贡献 $x_i \in [0, \infty)$。一个标准的表述是**自愿贡献机制**：
$$
u_i(x_i, X) = f(X) - c x_i
$$
其中 $X = \sum x_i$，$f(\cdot)$ 是公共物品的凹的、递增的生产函数（$f'>0, f''<0$），$c>0$ 是恒定的边际成本。

**纳什均衡：** 给定 $X_{-i} = \sum_{j \neq i} x_j$，玩家 $i$ 最大化 $u_i$。一阶条件是：
$$
f'(x_i + X_{-i}) = c
$$
由于条件是对称的且 $f'$ 递减，在对称的内点均衡中，$f'(n x^*) = c$。
**社会最优：** 最大化总剩余 $\sum_i u_i = n f(X) - c X$。一阶条件：
$$
f'(X^{**}) = \frac{c}{n}
$$
根据凹性，$X^{**} > n x^* = X^*$；纳什均衡导致公共物品供给不足。

### 4.3 带有噪音和错误的重复PD

引入执行错误：以概率 $\epsilon$，玩家期望的行动被反转（$C \leftrightarrow D$）。这使策略分析复杂化。可以使用马尔可夫链来分析像**以牙还牙（TFT）** 和**宽容的以牙还牙（GTFT）** 这类策略的表现。

令状态空间为上一期的结果。一对策略的长期收益可以计算为所诱导的马尔可夫链的稳态分布乘以收益向量。

## 5. 结论

囚徒困境为分析策略性冲突提供了一个基础框架。单次博弈产生一个由严格占优驱动的、唯一的、帕累托无效的均衡。这种紧张关系在重复博弈情境中得到解决，其中未来的影响（高 $\delta$）允许通过可信的惩罚威胁来强制执行合作结果，正如无名氏定理所形式化的那样。扩展到 N 人博弈和连续策略博弈，普遍化了非合作行为在没有明确的协调机制或重复互动的情况下会导致次优社会结果的洞见。本分析严格保持在非合作博弈论中的理性选择和均衡概念的领域内。

> [!NOTE]
> 以上所有所写并无学术严谨性，也不适用于学习参考，仅是个人用于撰写Markdown文章的练习测试而已，请注意甄别文章中提到的一切学术相关知识，它不一定（非常有可能）是不正确的。
